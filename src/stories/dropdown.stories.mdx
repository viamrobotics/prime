import { Canvas, Meta, Story } from '@storybook/addon-docs'

<Meta
  title='Elements/Dropdown'
  parameters={{
    actions: {
      handles: ['toggle'],
    },
  }}
  argTypes={{
    match: {
      description: 'Force dropdown width to match target width',
      control: { type: 'boolean' },
      table: { defaultValue: {summary: false} }
    },
    content: {
      description: 'Dropdown content. Receives text and HTML',
      control: { type: 'text' },
      table: { defaultValue: {summary: ""} }
    },
    'on:toggle': {
      description: 'Event fired when dropdown is toggled'
    },
    open: {
      description: 'Can be used to programmatically control whether dropdown is open',
      control: { type: 'boolean' },
    },
  }}
/>

# Dropdown

Gives target element the ability to open a dropdown below itself

<Canvas>
  <Story
    name='Dropdown with text content'
    args={{
      match: false,
      content: "This is the dropdown content",
      open: false,
    }}
  >
    {({ content, match, open  }) => `
      <div style="padding: 50px 0px">
        <v-dropdown ${match ? "match" : ""} ${open ? "open" : ""}>
          <v-button label="Click me" slot="target"></v-button>
          <div 
            slot="content"
            style="background-color: black; color: white; padding: 10px;"
          >
            ${content}
          </div>
        </v-dropdown>
      </div>
    `}
  </Story>
</Canvas>


<Canvas>
  <Story
    name='Dropdown with HTML content'
    args={{
      match: false,
      content: "This is the dropdown content",
      open: false,
    }}
  >
    {({ content, match, open  }) => `
      <div style="padding: 50px 0px">
        <v-dropdown ${match ? "match" : ""} ${open ? "open" : ""}>
          <v-button label="Choose your character" slot="target"></v-button>
          <div 
            slot="content"
            style="background-color: black; color: white; padding: 10px;"
          >
            <div class="flex flex-row gap-2 whitespace-nowrap">
              <input type="checkbox"/> 
              <label>Wall-E</label>
            </div>
            <div class="flex flex-row gap-2 whitespace-nowrap">
              <input type="checkbox"/> 
              <label>John Connor</label>
            </div>
            <div class="flex flex-row gap-2 whitespace-nowrap">
              <input type="checkbox"/> 
              <label>Johnny 5</label>
            </div>
            ${content}
          </div>
        </v-dropdown>
      </div>
    `}
  </Story>
</Canvas>
