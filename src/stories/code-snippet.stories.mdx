import { Canvas, Meta, Story } from '@storybook/addon-docs';
import jsonCodeExampleSrc from './assets/json-code-example';

<Meta
  title='Elements/Code Snippet'
  parameters={{
    actions: {
      handles: [
        'blur',
        'destroy',
        'input',
        'resize',
        'update-markers',
        'update-model',
        'copy',
      ],
    },
  }}
  argTypes={{
    value: {
      description: 'The content for the snippet',
      table: { defaultValue: { summary: '' } },
    },
    language: {
      control: { type: 'select' },
      options: [
        'json',
        'javascript',
        'typescript',
        'python',
        'go',
        'powershell',
      ],
      description: 'The language to use for syntax highlighting',
      table: { defaultValue: { summary: 'json' } },
    },
    theme: {
      description: 'The `prismjs` theme to use',
      control: { type: 'select' },
      options: ['vs', 'vsc-dark-plus'],
      table: { defaultValue: { summary: 'vs' } },
    },
    showbutton: {
      description: 'Determines if the snippet should include a copy button',
      control: { type: 'select' },
      options: ['true', 'false'],
      table: { defaultValue: { summary: 'false' } },
    },
  }}
/>

# Code Snippet

<Canvas>
  <Story
    name='Code Snippet'
    args={{
      language: 'json',
      value: jsonCodeExampleSrc,
      theme: 'vs',
    }}
  >
    {({ value, language, theme }) => `
<div style='margin: auto; max-width: 600px; height: 400px;'>
  <v-code-snippet 
    language='${language}'
    theme='${theme}'
    code='${value}'
  />
</div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Code Snippet Dark'
    args={{
      language: 'json',
      value: jsonCodeExampleSrc,
      theme: 'vsc-dark-plus',
    }}
  >
    {({ value, language, theme }) => `
<div style='margin: auto; max-width: 600px; height: 400px;'>
  <v-code-snippet 
    language='${language}'
    theme='${theme}'
    code='${value}'
  />
</div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Hide Copy Button'
    args={{
      language: 'json',
      value: jsonCodeExampleSrc,
      showbutton: 'false',
    }}
  >
    {({ value, language, theme, showbutton }) => `
<div style='margin: auto; max-width: 600px; height: 400px;'>
  <v-code-snippet 
    language='${language}'
    code='${value}'
    showbutton='${showbutton}'
  />
</div>
    `}
  </Story>
</Canvas>
