import { Canvas, Meta, Story } from '@storybook/addon-docs';
import jsonCodeExampleSrc from './assets/json-code-example';
import jsCodeExampleSrc from './assets/javascript-code-example';
import tsCodeExampleSrc from './assets/typescript-code-example';
import pythonCodeExampleSrc from './assets/python-code-example';
import goCodeExampleSrc from './assets/go-code-example';
import shellCodeExampleSrc from './assets/shell-code-example';
import * as diffCodeExampleSrc from './assets/diff-example';

<Meta
  title='Elements/Code Editor'
  parameters={{
    actions: {
      handles: [
        'blur',
        'destroy',
        'input',
        'resize',
        'update-markers',
        'update-model',
      ],
    },
  }}
  argTypes={{
    value: {
      description: 'The content for the editor',
      table: { defaultValue: { summary: '' } },
    },
    variant: {
      description: 'The type of editor to display',
      control: { type: 'select' },
      options: ['default', 'diff'],
      table: { defaultValue: { summary: 'default' } },
    },
    language: {
      control: { type: 'select' },
      options: ['json', 'javascript', 'typescript', 'python', 'go', 'shell'],
      description: 'The language to use for syntax highlighting',
      table: { defaultValue: { summary: 'json' } },
    },
    theme: {
      description: 'The `monaco` theme to use',
      control: { type: 'select' },
      options: ['vs', 'vs-dark'],
      table: { defaultValue: { summary: 'vs' } },
    },
    readonly: {
      description: 'Determines if the editor should be readonly or editable',
      control: { type: 'select' },
      options: ['true', 'false'],
      table: { defaultValue: { summary: 'false' } },
    },
    minimap: {
      description: 'Determines if the editor should render the minimap',
      control: { type: 'select' },
      options: ['true', 'false'],
      table: { defaultValue: { summary: 'false' } },
    },
    schema: {
      description:
        'When defined, is used to create the model URI passed to `window.monaco.editor.createModel`',
      control: { type: 'text' },
      table: { defaultValue: { summary: '' } },
    },
  }}
/>

# Code Editor

Uses `monaco` for syntax-highlighting.

<Canvas>
  <Story
    name='JSON editor'
    args={{
      language: 'json',
      value: jsonCodeExampleSrc,
    }}
  >
    {({ value, previous, language, theme, readonly, minimap, schema }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor
        value='${value}'
        previous='${previous}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        schema='${schema ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='JavaScript editor'
    args={{
      language: 'javascript',
      value: jsCodeExampleSrc,
    }}
  >
    {({ value, previous, language, theme, readonly, minimap, schema }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor
        value='${value}'
        previous='${previous}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        schema='${schema ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='TypeScript editor'
    args={{
      language: 'typescript',
      value: tsCodeExampleSrc,
    }}
  >
    {({ value, language, theme, readonly, minimap, schema }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor 
        value='${value}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        schema='${schema ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Python editor'
    args={{
      language: 'python',
      value: pythonCodeExampleSrc,
    }}
  >
    {({ value, language, theme, readonly, minimap, schema }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor 
        value='${value}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        schema='${schema ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Go editor'
    args={{
      language: 'go',
      value: goCodeExampleSrc,
    }}
  >
    {({ value, language, theme, readonly, minimap, schema }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor 
        value='${value}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        schema='${schema ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Shell editor'
    args={{
      language: 'shell',
      value: shellCodeExampleSrc,
    }}
  >
    {({ value, language, theme, readonly, minimap, schema }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor 
        value='${value}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        schema='${schema ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Readonly editor'
    args={{
      language: 'json',
      value: jsonCodeExampleSrc,
      readonly: true,
    }}
  >
    {({ value, previous, language, theme, readonly, minimap, schema }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor
        value='${value}'
        previous='${previous}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        schema='${schema ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Mini Map'
    args={{
      language: 'json',
      value: jsonCodeExampleSrc,
      minimap: true,
    }}
  >
    {({ value, previous, language, theme, readonly, minimap, schema }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor
        value='${value}'
        previous='${previous}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        schema='${schema ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name='Diff editor'
    args={{
      variant: 'diff',
      language: 'json',
      value: diffCodeExampleSrc.value,
      previous: diffCodeExampleSrc.previous,
    }}
  >
    {({
      variant,
      value,
      previous,
      language,
      theme,
      readonly,
      minimap,
      schema,
    }) => `
    <div style='width: auto; height: 400px;'>
      <v-code-editor
        variant='${variant}'
        value='${value}'
        previous='${previous}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        schema='${schema ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>
