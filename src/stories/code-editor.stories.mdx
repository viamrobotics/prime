import { Canvas, Meta, Story } from "@storybook/addon-docs"
import jsonCodeExampleSrc from "./assets/json-code-example"
import jsCodeExampleSrc from "./assets/javascript-code-example"
import tsCodeExampleSrc from "./assets/typescript-code-example"
import pythonCodeExampleSrc from "./assets/python-code-example"
import goCodeExampleSrc from "./assets/go-code-example"

<Meta
  title="Elements/Code Editor"
  parameters={{
    actions: {
      handles: ["input", "blur", "resize", "updateMarkers", "updateModel"],
    },
  }}
  argTypes={{
    value: {
      description: "The content for the editor",
      table: { defaultValue: { summary: "" } },
    },
    language: {
      control: { type: "select" },
      options: ["json", "javascript", "typescript", "python", "go"],
      description: "The language to use for syntax highlighting",
      table: { defaultValue: { summary: "json" } },
    },
    theme: {
      description: "The `monaco` theme to use",
      control: { type: "select" },
      options: ["vs", "vs-dark"],
      table: { defaultValue: { summary: "vs" } },
    },
    readonly: {
      description: "Determines if the editor should be readonly or editable",
      control: { type: "select" },
      options: ["true", "false"],
      table: { defaultValue: { summary: "false" } },
    },
    minimap: {
      description: "Determines if the editor should render the minimap",
      control: { type: "select" },
      options: ["true", "false"],
      table: { defaultValue: { summary: "false" } },
    },
    uri: {
      description:
        "When defined, is passed to `window.monaco.editor.createModel`",
      control: { type: 'text' },
      table: { defaultValue: { summary: "" } },
    },
  }}
/>

# Code Editor

Uses `monaco` for syntax-highlighting.

<Canvas>
  <Story
    name="JSON editor"
    args={{
      language: "json",
      value: jsonCodeExampleSrc,
    }}
  >
    {({ value, language, theme, readonly, minimap, uri }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor 
        value='${value}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        uri='${uri ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="JavaScript editor"
    args={{
      language: "javascript",
      value: jsCodeExampleSrc,
    }}
  >
    {({ value, language, theme, readonly, minimap, uri }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor 
        value='${value}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        uri='${uri ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="TypeScript editor"
    args={{
      language: "typescript",
      value: tsCodeExampleSrc,
    }}
  >
    {({ value, language, theme, readonly, minimap, uri }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor 
        value='${value}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        uri='${uri ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Python editor"
    args={{
      language: "python",
      value: pythonCodeExampleSrc,
    }}
  >
    {({ value, language, theme, readonly, minimap, uri }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor 
        value='${value}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        uri='${uri ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>

<Canvas>
  <Story
    name="Go editor"
    args={{
      language: "go",
      value: goCodeExampleSrc,
    }}
  >
    {({ value, language, theme, readonly, minimap, uri }) => `
    <div style='width: 400px; height: 400px;'>
      <v-code-editor 
        value='${value}'
        language='${language}'
        theme='${theme}'
        readonly='${readonly}'
        minimap='${minimap}'
        uri='${uri ?? ''}'
      />
    </div>
    `}
  </Story>
</Canvas>
