import{S as ie,i as fe,a as ce,b as D,f as R,n as re,e as d,t as G,k as j,c as A,d as a,g as o,r as z,s as J,h as M,x as ne,F as ae,j as oe,l as le,G as se}from"./preview-afef462f.js";import{c as E}from"./index-74f03c09.js";import{d as ue}from"./dispatch-8bf6a12a.js";import{h as K}from"./boolean-1ceedbab.js";import"./iframe-15c5bc93.js";import"../sb-preview/runtime.mjs";function X(l,e,t){const s=l.slice();return s[19]=e[t],s}function Y(l,e,t){const s=l.slice();return s[19]=e[t],s}function he(l){let e;return{c(){e=d("div"),e.innerHTML='<slot name="left-empty"></slot>',a(e,"class","text-sm")},m(t,s){D(t,e,s)},p:A,d(t){t&&M(e)}}}function de(l){let e,t=l[5].left,s=[];for(let i=0;i<t.length;i+=1)s[i]=$(Y(l,t,i));return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=le()},m(i,r){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(i,r);D(i,e,r)},p(i,r){if(r&120){t=i[5].left;let f;for(f=0;f<t.length;f+=1){const b=Y(i,t,f);s[f]?s[f].p(b,r):(s[f]=$(b),s[f].c(),s[f].m(e.parentNode,e))}for(;f<s.length;f+=1)s[f].d(1);s.length=t.length}},d(i){se(s,i),i&&M(e)}}}function Z(l){let e,t=l[19].suffix+"",s;return{c(){e=d("span"),s=G(t),a(e,"class","text-subtle-2")},m(i,r){D(i,e,r),o(e,s)},p(i,r){r&32&&t!==(t=i[19].suffix+"")&&J(s,t)},d(i){i&&M(e)}}}function $(l){let e,t,s,i,r,f=l[19].value+"",b,O,m,g,p,w,n=l[4]&&l[19].suffix&&Z(l);function u(){return l[12](l[19])}return{c(){e=d("button"),t=d("input"),i=j(),r=d("span"),b=G(f),O=j(),n&&n.c(),m=j(),a(t,"type","checkbox"),t.checked=s=l[19].selected,t.disabled=l[3],a(r,"class","px-4"),a(e,"class",g=E("flex items-center px-2 py text-sm",{"bg-focus/highlight":l[19].selected}))},m(k,h){D(k,e,h),o(e,t),o(e,i),o(e,r),o(r,b),o(e,O),n&&n.m(e,null),o(e,m),p||(w=z(e,"click",u),p=!0)},p(k,h){l=k,h&32&&s!==(s=l[19].selected)&&(t.checked=s),h&8&&(t.disabled=l[3]),h&32&&f!==(f=l[19].value+"")&&J(b,f),l[4]&&l[19].suffix?n?n.p(l,h):(n=Z(l),n.c(),n.m(e,m)):n&&(n.d(1),n=null),h&32&&g!==(g=E("flex items-center px-2 py text-sm",{"bg-focus/highlight":l[19].selected}))&&a(e,"class",g)},d(k){k&&M(e),n&&n.d(),p=!1,w()}}}function be(l){let e;return{c(){e=d("div"),e.innerHTML='<slot name="right-empty"></slot>',a(e,"class","text-sm")},m(t,s){D(t,e,s)},p:A,d(t){t&&M(e)}}}function _e(l){let e,t=l[5].right,s=[];for(let i=0;i<t.length;i+=1)s[i]=te(X(l,t,i));return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=le()},m(i,r){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(i,r);D(i,e,r)},p(i,r){if(r&120){t=i[5].right;let f;for(f=0;f<t.length;f+=1){const b=X(i,t,f);s[f]?s[f].p(b,r):(s[f]=te(b),s[f].c(),s[f].m(e.parentNode,e))}for(;f<s.length;f+=1)s[f].d(1);s.length=t.length}},d(i){se(s,i),i&&M(e)}}}function ee(l){let e,t=l[19].suffix+"",s;return{c(){e=d("span"),s=G(t),a(e,"class","text-subtle-2")},m(i,r){D(i,e,r),o(e,s)},p(i,r){r&32&&t!==(t=i[19].suffix+"")&&J(s,t)},d(i){i&&M(e)}}}function te(l){let e,t,s,i,r,f=l[19].value+"",b,O,m,g,p,w,n=l[4]&&l[19].suffix&&ee(l);function u(){return l[15](l[19])}return{c(){e=d("button"),t=d("input"),i=j(),r=d("span"),b=G(f),O=j(),n&&n.c(),m=j(),a(t,"type","checkbox"),t.checked=s=l[19].selected,t.disabled=l[3],a(r,"class","px-4"),a(e,"class",g=E("flex items-center px-2 py text-sm",{"bg-focus/highlight":l[19].selected}))},m(k,h){D(k,e,h),o(e,t),o(e,i),o(e,r),o(r,b),o(e,O),n&&n.m(e,null),o(e,m),p||(w=z(e,"click",u),p=!0)},p(k,h){l=k,h&32&&s!==(s=l[19].selected)&&(t.checked=s),h&8&&(t.disabled=l[3]),h&32&&f!==(f=l[19].value+"")&&J(b,f),l[4]&&l[19].suffix?n?n.p(l,h):(n=ee(l),n.c(),n.m(e,m)):n&&(n.d(1),n=null),h&32&&g!==(g=E("flex items-center px-2 py text-sm",{"bg-focus/highlight":l[19].selected}))&&a(e,"class",g)},d(k){k&&M(e),n&&n.d(),p=!1,w()}}}function ge(l){let e,t,s,i,r,f,b,O,m,g,p,w,n,u,k,h,C,N,F,q,B,c,v,S,H,x;function Q(_,y){return _[5].left.length>0?de:he}let I=Q(l),L=I(l);function W(_,y){return _[5].right.length>0?_e:be}let U=W(l),T=U(l);return{c(){e=d("div"),t=d("div"),s=d("span"),i=G(l[0]),r=j(),f=d("div"),L.c(),O=j(),m=d("div"),g=d("button"),p=d("i"),n=j(),u=d("button"),k=d("i"),C=j(),N=d("div"),F=d("span"),q=G(l[1]),B=j(),c=d("div"),T.c(),this.c=A,a(s,"class","text-sm text-subtle-1"),a(f,"class","border border-medium grow p-2 bg-white flex flex-col overflow-auto"),a(t,"class","w-full flex flex-col gap-2 self-stretch"),a(t,"style",b=`height: ${l[2]};`),a(p,"class","icon-arrow-up"),a(g,"class",w=E("rotate-90 border border-black h-8 w-8 flex items-center justify-center cursor-pointer hover:scale-105 bg-white",{"border-black/50":l[3]})),a(g,"data-testid","move-right"),a(k,"class","icon-arrow-up"),a(u,"class",h=E("-rotate-90 border border-black h-8 w-8 flex items-center justify-center cursor-pointer hover:scale-105 bg-white",{"border-black/50":l[3]})),a(u,"data-testid","move-left"),a(m,"class","flex flex-col gap-4"),a(F,"class","text-sm text-subtle-2"),a(c,"class","border border-medium grow p-2 bg-white flex flex-col overflow-auto"),a(N,"class","w-full flex flex-col gap-2 self-stretch"),a(N,"style",v=`height: ${l[2]};`),a(e,"class",S=E("w-full grid grid-cols-[1fr_32px_1fr] gap-8 items-center p-2",{"!text-black/50":l[3]}))},m(_,y){D(_,e,y),o(e,t),o(t,s),o(s,i),o(t,r),o(t,f),L.m(f,null),o(e,O),o(e,m),o(m,g),o(g,p),o(m,n),o(m,u),o(u,k),o(e,C),o(e,N),o(N,F),o(F,q),o(N,B),o(N,c),T.m(c,null),H||(x=[z(g,"click",l[13]),z(u,"click",l[14])],H=!0)},p(_,[y]){y&1&&J(i,_[0]),I===(I=Q(_))&&L?L.p(_,y):(L.d(1),L=I(_),L&&(L.c(),L.m(f,null))),y&4&&b!==(b=`height: ${_[2]};`)&&a(t,"style",b),y&8&&w!==(w=E("rotate-90 border border-black h-8 w-8 flex items-center justify-center cursor-pointer hover:scale-105 bg-white",{"border-black/50":_[3]}))&&a(g,"class",w),y&8&&h!==(h=E("-rotate-90 border border-black h-8 w-8 flex items-center justify-center cursor-pointer hover:scale-105 bg-white",{"border-black/50":_[3]}))&&a(u,"class",h),y&2&&J(q,_[1]),U===(U=W(_))&&T?T.p(_,y):(T.d(1),T=U(_),T&&(T.c(),T.m(c,null))),y&4&&v!==(v=`height: ${_[2]};`)&&a(N,"style",v),y&8&&S!==(S=E("w-full grid grid-cols-[1fr_32px_1fr] gap-8 items-center p-2",{"!text-black/50":_[3]}))&&a(e,"class",S)},i:A,o:A,d(_){_&&M(e),L.d(),T.d(),H=!1,ne(x)}}}const V="left",P="right";function me(l,e,t){let{disabled:s}=e,{left:i=""}=e,{right:r=""}=e,{leftlabel:f=""}=e,{rightlabel:b=""}=e,{height:O="200px"}=e,{suffix:m=""}=e;const g=ue();let p,w=K(m,"suffix");const n=c=>{if(w){const v=c.split(" ");return{value:v[0]??"",suffix:v[1]??"",selected:!1}}return{value:c,selected:!1}};let u={left:i?i.split(",").map(c=>n(c)):[],right:r?r.split(",").map(c=>n(c)):[]};ae(()=>{const c=new Set([...u.left.map(x=>x.value),...u.right.map(x=>x.value)]),v=i?i.split(",").map(x=>n(x)).filter(x=>!c.has(x.value)):[],S=r?r.split(",").map(x=>n(x)).filter(x=>!c.has(x.value)):[],H={left:[...u.left,...v],right:[...u.right,...S]};t(5,u=H)}),oe();const h=(c,v)=>{p||(c.selected=!c.selected,t(5,u={...u}),g("option-click",{target:{...c,side:v}}))},C=c=>{if(p)return;const v=c===V?P:V,S={left:[],right:[]};for(const H of u[v])H.selected?S[c].push({...H,selected:!1}):S[v].push(H);t(5,u[v]=S[v],u),t(5,u[c]=[...u[c],...S[c]],u),t(5,u={...u}),g("move",{options:JSON.parse(JSON.stringify(u))})},N=c=>h(c,V),F=()=>C(P),q=()=>C(V),B=c=>h(c,P);return l.$$set=c=>{"disabled"in c&&t(8,s=c.disabled),"left"in c&&t(9,i=c.left),"right"in c&&t(10,r=c.right),"leftlabel"in c&&t(0,f=c.leftlabel),"rightlabel"in c&&t(1,b=c.rightlabel),"height"in c&&t(2,O=c.height),"suffix"in c&&t(11,m=c.suffix)},l.$$.update=()=>{l.$$.dirty&256&&t(3,p=K(s,"disabled")),l.$$.dirty&2048&&t(4,w=K(m,"suffix"))},[f,b,O,p,w,u,h,C,s,i,r,m,N,F,q,B]}class pe extends ie{constructor(e){super(),fe(this,{target:this.shadowRoot,props:ce(this.attributes),customElement:!0},me,ge,re,{disabled:8,left:9,right:10,leftlabel:0,rightlabel:1,height:2,suffix:11},null),e&&(e.target&&D(e.target,this,e.anchor),e.props&&(this.$set(e.props),R()))}static get observedAttributes(){return["disabled","left","right","leftlabel","rightlabel","height","suffix"]}get disabled(){return this.$$.ctx[8]}set disabled(e){this.$$set({disabled:e}),R()}get left(){return this.$$.ctx[9]}set left(e){this.$$set({left:e}),R()}get right(){return this.$$.ctx[10]}set right(e){this.$$set({right:e}),R()}get leftlabel(){return this.$$.ctx[0]}set leftlabel(e){this.$$set({leftlabel:e}),R()}get rightlabel(){return this.$$.ctx[1]}set rightlabel(e){this.$$set({rightlabel:e}),R()}get height(){return this.$$.ctx[2]}set height(e){this.$$set({height:e}),R()}get suffix(){return this.$$.ctx[11]}set suffix(e){this.$$set({suffix:e}),R()}}customElements.define("v-list-box",pe);export{pe as default};
//# sourceMappingURL=list-box-784a6241.js.map
