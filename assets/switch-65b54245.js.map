{"version":3,"file":"switch-65b54245.js","sources":["../../src/elements/switch.svelte"],"sourcesContent":["<svelte:options immutable tag=\"v-switch\" />\n\n<script lang=\"ts\">\nimport cx from 'classnames';\nimport { htmlToBoolean } from '../lib/boolean';\nimport { addStyles } from '../lib/index';\nimport { dispatcher } from '../lib/dispatch';\n\nexport let label = '';\nexport let name = '';\nexport let value: 'on' | 'off' = 'off';\nexport let variant: 'annotated' | 'default' = 'default';\nexport let disabled: string;\nexport let readonly: string;\nexport let tooltip = '';\n\nconst dispatch = dispatcher();\n\naddStyles();\n\nlet input: HTMLInputElement;\nlet on: boolean;\nlet isDisabled: boolean;\nlet isReadonly: boolean;\n\n$: on = value === 'on';\n$: isDisabled = htmlToBoolean(disabled, 'disabled');\n$: isReadonly = htmlToBoolean(readonly, 'readonly');\n\nconst handleClick = () => {\n  if (!(isDisabled || isReadonly)) {\n    value = on ? 'off' : 'on';\n    input.checked = value === 'on';\n    dispatch('input', { value: input.checked });\n  }\n};\n</script>\n\n<label\n  class={cx('flex gap-1 w-fit flex-col justify-start', {\n    'text-disabled-dark': isDisabled,\n  })}\n>\n  <div class=\"flex items-center gap-1.5\">\n    {#if label}\n      <p class=\"w-fit text-xs\">\n        {label}\n      </p>\n    {/if}\n\n    {#if tooltip}\n      <v-tooltip text={tooltip}>\n        <div class=\"icon-info-outline text-black\" />\n      </v-tooltip>\n    {/if}\n  </div>\n\n  <button\n    on:click={handleClick}\n    type=\"button\"\n    class={cx('flex gap-2 items-center', {\n      'cursor-not-allowed pointer-events-none': isDisabled || isReadonly,\n    })}\n    role=\"switch\"\n    aria-label={label}\n    aria-disabled={isDisabled}\n    aria-checked={on ? 'true' : 'false'}\n  >\n    <div\n      class={cx(\n        'relative inline-flex flex-shrink-0 h-5 w-11 border cursor-pointer motion-safe:transition-colors ease-in-out duration-200 focus:outline-none',\n        {\n          'bg-gray-4 border-gray-4': isDisabled || isReadonly,\n          'bg-gray-6 border-gray-6': !on && !(isDisabled || isReadonly),\n          'bg-success-dark border-success-dark':\n            on && !(isDisabled || isReadonly),\n          'text-disabled-dark': isDisabled,\n        }\n      )}\n    >\n      <span\n        class={cx(\n          'pointer-events-none relative inline-block h-4 w-4 mt-px ml-px bg-white transform ring-0 motion-safe:transition-transform ease-in-out duration-200',\n          {\n            'border-gray-4': isDisabled || isReadonly,\n          }\n        )}\n        class:translate-x-0={!on}\n        class:translate-x-6={on}\n      />\n      <input\n        {name}\n        {value}\n        disabled={isDisabled}\n        readonly={isReadonly}\n        class=\"hidden\"\n        type=\"checkbox\"\n        checked={on}\n        bind:this={input}\n      />\n    </div>\n\n    {#if variant === 'annotated'}\n      <p class=\"text-sm\">{value}</p>\n    {/if}\n  </button>\n</label>\n"],"names":["ctx","insert","target","p","anchor","v_tooltip","append","div","create_if_block_2","create_if_block_1","if_block2","create_if_block","attr","span","span_class_value","cx","div1","div1_class_value","button","button_class_value","label_1","label_1_class_value","div0","input_1","dirty","label","$$props","name","value","variant","disabled","readonly","tooltip","dispatch","dispatcher","addStyles","input","on","isDisabled","isReadonly","handleClick","$$invalidate","$$value","htmlToBoolean"],"mappings":"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"}