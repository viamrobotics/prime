import{S as ie,i as fe,a as ce,b as R,f as F,n as re,e as d,t as q,k as j,c as H,d as a,g as o,r as z,s as A,h as C,x as ne,F as ae,j as oe,l as le,G as se}from"./preview-dc6b03ff.js";import{c as L}from"./index-74f03c09.js";import{d as ue}from"./dispatch-33707423.js";import{h as K}from"./boolean-1ceedbab.js";import"./iframe-7b1e4bad.js";import"../sb-preview/runtime.mjs";function X(l,e,t){const s=l.slice();return s[19]=e[t],s}function Y(l,e,t){const s=l.slice();return s[19]=e[t],s}function he(l){let e;return{c(){e=d("slot"),a(e,"name","left-empty")},m(t,s){R(t,e,s)},p:H,d(t){t&&C(e)}}}function de(l){let e,t=l[5].left,s=[];for(let i=0;i<t.length;i+=1)s[i]=$(Y(l,t,i));return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=le()},m(i,r){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(i,r);R(i,e,r)},p(i,r){if(r&120){t=i[5].left;let f;for(f=0;f<t.length;f+=1){const b=Y(i,t,f);s[f]?s[f].p(b,r):(s[f]=$(b),s[f].c(),s[f].m(e.parentNode,e))}for(;f<s.length;f+=1)s[f].d(1);s.length=t.length}},d(i){se(s,i),i&&C(e)}}}function Z(l){let e,t=l[19].suffix+"",s;return{c(){e=d("span"),s=q(t),a(e,"class","text-subtle-2")},m(i,r){R(i,e,r),o(e,s)},p(i,r){r&32&&t!==(t=i[19].suffix+"")&&A(s,t)},d(i){i&&C(e)}}}function $(l){let e,t,s,i,r,f=l[19].value+"",b,O,p,g,m,w,n=l[4]&&l[19].suffix&&Z(l);function u(){return l[12](l[19])}return{c(){e=d("button"),t=d("input"),i=j(),r=d("span"),b=q(f),O=j(),n&&n.c(),p=j(),a(t,"type","checkbox"),t.checked=s=l[19].selected,t.disabled=l[3],a(r,"class","px-4"),a(e,"class",g=L("flex items-center px-2 py text-sm",{"bg-focus/highlight":l[19].selected}))},m(k,h){R(k,e,h),o(e,t),o(e,i),o(e,r),o(r,b),o(e,O),n&&n.m(e,null),o(e,p),m||(w=z(e,"click",u),m=!0)},p(k,h){l=k,h&32&&s!==(s=l[19].selected)&&(t.checked=s),h&8&&(t.disabled=l[3]),h&32&&f!==(f=l[19].value+"")&&A(b,f),l[4]&&l[19].suffix?n?n.p(l,h):(n=Z(l),n.c(),n.m(e,p)):n&&(n.d(1),n=null),h&32&&g!==(g=L("flex items-center px-2 py text-sm",{"bg-focus/highlight":l[19].selected}))&&a(e,"class",g)},d(k){k&&C(e),n&&n.d(),m=!1,w()}}}function be(l){let e;return{c(){e=d("slot"),a(e,"name","right-empty")},m(t,s){R(t,e,s)},p:H,d(t){t&&C(e)}}}function _e(l){let e,t=l[5].right,s=[];for(let i=0;i<t.length;i+=1)s[i]=te(X(l,t,i));return{c(){for(let i=0;i<s.length;i+=1)s[i].c();e=le()},m(i,r){for(let f=0;f<s.length;f+=1)s[f]&&s[f].m(i,r);R(i,e,r)},p(i,r){if(r&120){t=i[5].right;let f;for(f=0;f<t.length;f+=1){const b=X(i,t,f);s[f]?s[f].p(b,r):(s[f]=te(b),s[f].c(),s[f].m(e.parentNode,e))}for(;f<s.length;f+=1)s[f].d(1);s.length=t.length}},d(i){se(s,i),i&&C(e)}}}function ee(l){let e,t=l[19].suffix+"",s;return{c(){e=d("span"),s=q(t),a(e,"class","text-subtle-2")},m(i,r){R(i,e,r),o(e,s)},p(i,r){r&32&&t!==(t=i[19].suffix+"")&&A(s,t)},d(i){i&&C(e)}}}function te(l){let e,t,s,i,r,f=l[19].value+"",b,O,p,g,m,w,n=l[4]&&l[19].suffix&&ee(l);function u(){return l[15](l[19])}return{c(){e=d("button"),t=d("input"),i=j(),r=d("span"),b=q(f),O=j(),n&&n.c(),p=j(),a(t,"type","checkbox"),t.checked=s=l[19].selected,t.disabled=l[3],a(r,"class","px-4"),a(e,"class",g=L("flex items-center px-2 py text-sm",{"bg-focus/highlight":l[19].selected}))},m(k,h){R(k,e,h),o(e,t),o(e,i),o(e,r),o(r,b),o(e,O),n&&n.m(e,null),o(e,p),m||(w=z(e,"click",u),m=!0)},p(k,h){l=k,h&32&&s!==(s=l[19].selected)&&(t.checked=s),h&8&&(t.disabled=l[3]),h&32&&f!==(f=l[19].value+"")&&A(b,f),l[4]&&l[19].suffix?n?n.p(l,h):(n=ee(l),n.c(),n.m(e,p)):n&&(n.d(1),n=null),h&32&&g!==(g=L("flex items-center px-2 py text-sm",{"bg-focus/highlight":l[19].selected}))&&a(e,"class",g)},d(k){k&&C(e),n&&n.d(),m=!1,w()}}}function ge(l){let e,t,s,i,r,f,b,O,p,g,m,w,n,u,k,h,G,N,J,B,I,c,v,S,T,x;function Q(_,y){return _[5].left.length>0?de:he}let M=Q(l),E=M(l);function W(_,y){return _[5].right.length>0?_e:be}let U=W(l),D=U(l);return{c(){e=d("div"),t=d("div"),s=d("span"),i=q(l[0]),r=j(),f=d("div"),E.c(),O=j(),p=d("div"),g=d("button"),m=d("i"),n=j(),u=d("button"),k=d("i"),G=j(),N=d("div"),J=d("span"),B=q(l[1]),I=j(),c=d("div"),D.c(),this.c=H,a(s,"class","text-xs text-subtle-1"),a(f,"class","border border-medium grow p-2 bg-white flex flex-col overflow-auto"),a(t,"class","w-full flex flex-col gap-2 self-stretch"),a(t,"style",b=`height: ${l[2]};`),a(m,"class","icon-arrow-up"),a(g,"class",w=L("rotate-90 border border-black h-8 w-8 flex items-center justify-center cursor-pointer hover:scale-105 bg-white",{"border-black/50":l[3]})),a(g,"data-testid","move-right"),a(k,"class","icon-arrow-up"),a(u,"class",h=L("-rotate-90 border border-black h-8 w-8 flex items-center justify-center cursor-pointer hover:scale-105 bg-white",{"border-black/50":l[3]})),a(u,"data-testid","move-left"),a(p,"class","flex flex-col gap-4"),a(J,"class","text-xs text-subtle-2"),a(c,"class","border border-medium grow p-2 bg-white flex flex-col overflow-auto"),a(N,"class","w-full flex flex-col gap-2 self-stretch"),a(N,"style",v=`height: ${l[2]};`),a(e,"class",S=L("w-full grid grid-cols-[1fr_32px_1fr] gap-8 items-center p-2",{"!text-black/50":l[3]}))},m(_,y){R(_,e,y),o(e,t),o(t,s),o(s,i),o(t,r),o(t,f),E.m(f,null),o(e,O),o(e,p),o(p,g),o(g,m),o(p,n),o(p,u),o(u,k),o(e,G),o(e,N),o(N,J),o(J,B),o(N,I),o(N,c),D.m(c,null),T||(x=[z(g,"click",l[13]),z(u,"click",l[14])],T=!0)},p(_,[y]){y&1&&A(i,_[0]),M===(M=Q(_))&&E?E.p(_,y):(E.d(1),E=M(_),E&&(E.c(),E.m(f,null))),y&4&&b!==(b=`height: ${_[2]};`)&&a(t,"style",b),y&8&&w!==(w=L("rotate-90 border border-black h-8 w-8 flex items-center justify-center cursor-pointer hover:scale-105 bg-white",{"border-black/50":_[3]}))&&a(g,"class",w),y&8&&h!==(h=L("-rotate-90 border border-black h-8 w-8 flex items-center justify-center cursor-pointer hover:scale-105 bg-white",{"border-black/50":_[3]}))&&a(u,"class",h),y&2&&A(B,_[1]),U===(U=W(_))&&D?D.p(_,y):(D.d(1),D=U(_),D&&(D.c(),D.m(c,null))),y&4&&v!==(v=`height: ${_[2]};`)&&a(N,"style",v),y&8&&S!==(S=L("w-full grid grid-cols-[1fr_32px_1fr] gap-8 items-center p-2",{"!text-black/50":_[3]}))&&a(e,"class",S)},i:H,o:H,d(_){_&&C(e),E.d(),D.d(),T=!1,ne(x)}}}const V="left",P="right";function pe(l,e,t){let{disabled:s}=e,{left:i=""}=e,{right:r=""}=e,{leftlabel:f=""}=e,{rightlabel:b=""}=e,{height:O="200px"}=e,{suffix:p=""}=e;const g=ue();let m,w=K(p,"suffix");const n=c=>{if(w){const v=c.split(" ");return{value:v[0]??"",suffix:v[1]??"",selected:!1}}return{value:c,selected:!1}};let u={left:i?i.split(",").map(c=>n(c)):[],right:r?r.split(",").map(c=>n(c)):[]};ae(()=>{const c=new Set([...u.left.map(x=>x.value),...u.right.map(x=>x.value)]),v=i?i.split(",").map(x=>n(x)).filter(x=>!c.has(x.value)):[],S=r?r.split(",").map(x=>n(x)).filter(x=>!c.has(x.value)):[],T={left:[...u.left,...v],right:[...u.right,...S]};t(5,u=T)}),oe();const h=(c,v)=>{m||(c.selected=!c.selected,t(5,u={...u}),g("option-click",{target:{...c,side:v}}))},G=c=>{if(m)return;const v=c===V?P:V,S={left:[],right:[]};for(const T of u[v])T.selected?S[c].push({...T,selected:!1}):S[v].push(T);t(5,u[v]=S[v],u),t(5,u[c]=[...u[c],...S[c]],u),t(5,u={...u}),g("move",{options:JSON.parse(JSON.stringify(u))})},N=c=>h(c,V),J=()=>G(P),B=()=>G(V),I=c=>h(c,P);return l.$$set=c=>{"disabled"in c&&t(8,s=c.disabled),"left"in c&&t(9,i=c.left),"right"in c&&t(10,r=c.right),"leftlabel"in c&&t(0,f=c.leftlabel),"rightlabel"in c&&t(1,b=c.rightlabel),"height"in c&&t(2,O=c.height),"suffix"in c&&t(11,p=c.suffix)},l.$$.update=()=>{l.$$.dirty&256&&t(3,m=K(s,"disabled")),l.$$.dirty&2048&&t(4,w=K(p,"suffix"))},[f,b,O,m,w,u,h,G,s,i,r,p,N,J,B,I]}class me extends ie{constructor(e){super(),fe(this,{target:this.shadowRoot,props:ce(this.attributes),customElement:!0},pe,ge,re,{disabled:8,left:9,right:10,leftlabel:0,rightlabel:1,height:2,suffix:11},null),e&&(e.target&&R(e.target,this,e.anchor),e.props&&(this.$set(e.props),F()))}static get observedAttributes(){return["disabled","left","right","leftlabel","rightlabel","height","suffix"]}get disabled(){return this.$$.ctx[8]}set disabled(e){this.$$set({disabled:e}),F()}get left(){return this.$$.ctx[9]}set left(e){this.$$set({left:e}),F()}get right(){return this.$$.ctx[10]}set right(e){this.$$set({right:e}),F()}get leftlabel(){return this.$$.ctx[0]}set leftlabel(e){this.$$set({leftlabel:e}),F()}get rightlabel(){return this.$$.ctx[1]}set rightlabel(e){this.$$set({rightlabel:e}),F()}get height(){return this.$$.ctx[2]}set height(e){this.$$set({height:e}),F()}get suffix(){return this.$$.ctx[11]}set suffix(e){this.$$set({suffix:e}),F()}}customElements.define("v-list-box",me);export{me as default};
//# sourceMappingURL=list-box-02229324.js.map
